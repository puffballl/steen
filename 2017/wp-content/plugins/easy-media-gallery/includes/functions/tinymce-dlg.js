jQuery(document).ready(function(a){function g(){a(".TB_emg_window").css({top:(jQuery(window).height()-d)/9+"px",left:(jQuery(window).width()-e)/4+"px","margin-top":(jQuery(window).height()-d)/9+"px","margin-left":(jQuery(window).width()-e)/4+"px",height:"auto"})}var b,c,d=370,e=580;jQuery("#listcustomgallery").multiselect({multiple:!0,header:"Select Gallery",noneSelectedText:"Select Gallery",selectedList:1,header:!0}),jQuery("#emgtinymce_select_method").multiselect({multiple:!1,header:"Order Media by",noneSelectedText:"Select an Option",selectedList:1,header:!1}),jQuery("#emgtinymce_select_cat").multiselect({multiple:!1,header:"Choose a category",noneSelectedText:"Select Category",selectedList:1,header:!1}),jQuery("#emgtinymce_select_sing_media").multiselect({multiple:!0,header:"Choose Media",noneSelectedText:"Select Media",selectedList:1,header:!0}),jQuery("#select_custom_col").multiselect({multiple:!1,header:"Select Columns",noneSelectedText:"Select Columns",selectedList:1,header:!1}),jQuery("#select_cus_align").multiselect({multiple:!1,header:"Select Align",noneSelectedText:"Select Align",selectedList:1,header:!1}),jQuery("#select_cus_style").multiselect({multiple:!1,header:"Select Style",noneSelectedText:"Select Style",selectedList:1,header:!1}),jQuery("#emgtinymce_select_method").multiselect({click:function(){jQuery("#emgtinymce_select_sing_media").multiselect("uncheckAll"),jQuery("#emgtinymce_select_cat").multiselect("uncheckAll"),jQuery("#listcustomgallery").multiselect("uncheckAll")}}),jQuery("body").delegate("#add_emg_shortcode_button","click",function(){setTimeout(function(){tb_show('<img class="emg_sc_ttl_ico" src="'+emg_tinymce_vars.sc_icon+'" alt="Easy Media Gallery">Gallery Shortcode<span class="emg_cp_version">v'+emg_tinymce_vars.sc_version+"</span>","#TB_inline?height="+d+"&width="+e+"&inlineId=emgmodal"),jQuery("#TB_window").addClass("TB_emg_window").css("z-index","999999"),jQuery("#TB_ajaxContent").addClass("TB_emg_ajaxContent"),jQuery(".TB_emg_ajaxContent").css("height","auto"),jQuery("#emgtinymce_select_cat_div").hide(),jQuery("#emgtinymce_select_sing_media_div").hide(),jQuery("#emgtinymce_select_method").val("Select"),jQuery("#emgtinymce_select_method").multiselect("refresh"),jQuery("#select_custom_col").val("Select"),jQuery("#select_custom_col").multiselect("refresh"),jQuery("#select_cus_align").val("Select"),jQuery("#select_cus_align").multiselect("refresh"),jQuery("#emgtinymce_custom_columns").prop("checked",!1),jQuery("#customcolumns").hide("slow"),jQuery("#custom_col_div span.switch").find(".background").animate({left:"-49px"},200),jQuery("#emgtinymce_custom_sz").prop("checked",!1),jQuery("#mediacustomsize").hide("slow"),jQuery("#custom_size_div span.switch").find(".background").animate({left:"-49px"},200),jQuery("#emgtinymce_custom_align").prop("checked",!1),jQuery("#customalign").hide("slow"),jQuery("#mediacustomstyle").hide("slow"),jQuery("#custom_align_div span.switch").find(".background").animate({left:"-49px"},200),jQuery("#emgtinymce_custom_columns").prop("checked",!1),jQuery("#emgtinymce_select_sing_media_div span.switch").find(".background").animate({left:"-49px"},200),jQuery("#emgtinymce_mark_asgallery").prop("checked",!1),jQuery("#custom_style_div span.switch").find(".background").animate({left:"-49px"},200),jQuery("#emgtinymce_custom_style").prop("checked",!1),jQuery("#listcustomgallery").multiselect("uncheckAll"),jQuery("#emgtinymce_cus_width").val(""),jQuery("#emgtinymce_cus_height").val(""),jQuery("#defgallery").prop("checked",!0),jQuery(".setaspro").prop("disabled",!0),jQuery("#thisgallresult").text(""),jQuery("#thisresult").text(""),jQuery("#horizontalTab").responsiveTabs({active:0,rotate:!1,startCollapsed:"accordion",collapsible:"accordion",setHash:!1,animation:"slide",duration:500,activate:function(a,c){jQuery("#thisgallresult").text(""),jQuery("#thisresult").text(""),b=0==c.id?"gallery":"others"}}),a("#emgfirsttab a").trigger("click"),a("#TB_closeWindowButton").replaceWith(a("<div class='closetb' id='TB_closeWindowButton'><span class='screen-reader-text'>Close</span><span class='tb-close-icon'></span></div>")),g()},300)}),a("body").delegate(".closetb","click",function(){tb_remove()}),jQuery("#emgtinymce_select_cat_div").hide(),jQuery("#emgtinymce_select_sing_media_div").hide(),jQuery("#emgtinymce_select_method").change(function(){var a=document.getElementById("emgtinymce_select_method").selectedIndex;"1"==a?(jQuery("#emgtinymce_select_cat_div").fadeIn(500),jQuery("#emgtinymce_select_sing_media_div").hide()):"2"==a?(jQuery("#emgtinymce_select_cat_div").hide(),jQuery("#emgtinymce_select_sing_media_div").fadeIn(500)):(jQuery("#emgtinymce_select_cat_div").fadeOut(500),jQuery("#emgtinymce_select_sing_media_div").hide())}),jQuery("#emgtinymce_select_method").change(),jQuery(function(){jQuery("#emgtinymce_select_sing_media").multiselect({close:function(a){var b=jQuery("#emgtinymce_select_sing_media").multiselect("getChecked").map(function(){return this.value}).get().toString();jQuery("#thisresult").text(b)}})}),jQuery(function(){jQuery("#listcustomgallery").multiselect({close:function(a){var b=jQuery("#listcustomgallery").multiselect("getChecked").map(function(){return this.value}).get().toString();jQuery("#thisgallresult").text(b)}})}),jQuery("#emg_insert_scrt").on("click",function(){if(c=jQuery("#emgtinymce_select_method").prop("selectedIndex"),"others"==b)if(jQuery("#emgtinymce_select_method").prop("selectedIndex")>0){var a,d;jQuery("#emgtinymce_custom_columns").is(":checked")&&jQuery("#select_custom_col").prop("selectedIndex")>0?a=' col="'+jQuery("#select_custom_col").val()+'"':(jQuery("#customcolumns").hide("slow"),a=""),jQuery("#emgtinymce_custom_align").is(":checked")&&jQuery("#select_cus_align").prop("selectedIndex")>0?d=' align="'+jQuery("#select_cus_align").val().toLowerCase()+'"':(jQuery("#customalign").hide("slow"),d="");var e=jQuery("#emgtinymce_select_cat").val(),f='[easy-media cat="'+e+'"'+a+d+"]",g=jQuery("#thisresult").text(),h='[easy-media med="'+g+'"'+a+d+"]";if("1"==c&&"default"!=e)if(jQuery("#wp-content-editor-container > textarea").is(":visible")){var i=jQuery("#wp-content-editor-container > textarea").val()+f;jQuery("#wp-content-editor-container > textarea").val(i)}else tinyMCE.activeEditor.execCommand("mceInsertContent",0,f);else if("2"==c&&""!=g)if(jQuery("#wp-content-editor-container > textarea").is(":visible")){var i=jQuery("#wp-content-editor-container > textarea").val()+h;jQuery("#wp-content-editor-container > textarea").val(i)}else tinyMCE.activeEditor.execCommand("mceInsertContent",0,h);tb_remove()}else alert("No media or category selected!");else if("gallery"==b&&""!=jQuery("#thisgallresult").text()){var j='[easymedia-gallery med="'+jQuery("#thisgallresult").text()+'" filter="1"]';if(jQuery("#wp-content-editor-container > textarea").is(":visible")){var i=jQuery("#wp-content-editor-container > textarea").val()+j;jQuery("#wp-content-editor-container > textarea").val(i)}else tinyMCE.activeEditor.execCommand("mceInsertContent",0,j);tb_remove()}else alert("No gallery selected!")}),a(window).resize(function(){g()})});